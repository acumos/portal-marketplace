!function(a,b){"function"==typeof define&&define.amd?define(["Quill","angular"],function(a,c){return b(a,c)}):"object"==typeof module&&module.exports?module.exports=b(require("quill"),require("angular")):b(a.Quill,a.angular)}(this,function(a,b){"use strict";var c;c=b.module("ngQuill",[]),c.provider("ngQuillConfig",function(){var a={modules:{toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["clean"],["link","image","video"]]},theme:"snow",placeholder:"Insert text here ...",readOnly:!1,boundary:document.body};this.set=function(b,c,d,e,f,g){b&&(a.modules=b),c&&(a.theme=c),d&&(a.placeholder=d),f&&(a.boundary=f),g&&(a.readOnly=g),e&&(a.formats=e)},this.$get=function(){return a}}),c.component("ngQuillEditor",{bindings:{modules:"<modules",theme:"@?",readOnly:"<?",formats:"<?",placeholder:"@?",onEditorCreated:"&?",onContentChanged:"&?",ngModel:"<",maxLength:"<",minLength:"<"},require:{ngModelCtrl:"ngModel"},template:"<div></div>",controller:["$scope","$element","ngQuillConfig",function(b,c,d){var e,f,g,h={},i=!1,j=!1;this.validate=function(a){this.maxLength&&(a.length>this.maxLength+1?this.ngModelCtrl.$setValidity("maxlength",!1):this.ngModelCtrl.$setValidity("maxlength",!0)),this.minLength&&(a.length<=this.minLength?this.ngModelCtrl.$setValidity("minlength",!1):this.ngModelCtrl.$setValidity("minlength",!0))},this.$onChanges=function(a){if(a.ngModel&&a.ngModel.currentValue!==a.ngModel.previousValue){if(e=a.ngModel.currentValue,g&&!j){if(i=!0,e)return void g.pasteHTML(e);g.setText("")}j=!1}g&&a.readOnly&&g.enable(!a.readOnly.currentValue)},this.$onInit=function(){h={theme:this.theme||d.theme,readOnly:this.readOnly||d.readOnly,modules:this.modules||d.modules,formats:this.formats||d.formats,placeholder:this.placeholder||d.placeholder,boundary:d.boundary}},this.$postLink=function(){f=c[0].children[0],g=new a(f,h),g.on("selection-change",function(a){a||b.$apply(function(){this.ngModelCtrl.$setTouched()}.bind(this))}.bind(this)),g.on("text-change",function(){var a=f.children[0].innerHTML,c=g.getText();"<p><br></p>"===a&&(a=null),this.validate(c),i||b.$apply(function(){j=!0,this.ngModelCtrl.$setViewValue(a),this.onContentChanged&&this.onContentChanged({editor:g,html:a,text:c})}.bind(this)),i=!1}.bind(this)),e&&(i=!0,g.pasteHTML(e)),this.onEditorCreated&&this.onEditorCreated({editor:g})}}]})});